@page
@model CustomerModel
<h2>Select Products</h2>

<form method="post">
    @for (int i = 0; i < Model.AvailableProducts.Count; i++)
    {
        <div>
            <input type="checkbox" asp-for="SelectedProductIds" value="@Model.AvailableProducts[i].ProductId" />
            <span>@Model.AvailableProducts[i].Name</span> -
            <span>@Model.AvailableProducts[i].Price.ToString("C")</span>
            <label>Quantity:</label>
            <input asp-for="Quantities[i]" type="number" min="1" />
        </div>
    }
    <button type="submit">Checkout</button>
</form>

@if (Model.Cart != null && Model.Cart.Count > 0)
{
    <h3>Your Cart:</h3>
    <ul>
        @foreach (var item in Model.Cart)
        {
            <li>@item.Quantity x @item.Product.Name - @item.Product.Price.ToString("C")</li>
        }
    </ul>
}